# 1. 물리 엔진과 오브젝트 용어
## 1.1 DB 엔진 용어
  사용자는 DB에서 원하는 데이터를 가져오고자 SQL문을 실행
  - 실행된 SQL문은 문법 에러, 테이블 존재 여부 등의 세부 사항을 검사 (parser)
  - 이후 데이터를 빠르고 효율적으로 찾기 위한 전략적 계획 수립 (optimizer)
  - 계획을 바탕으로 스토리지 엔진에 위치한 데이터를 mysql 엔진으로 전달
  - 연산 수행 후 사용자에게 최종 결과 전달

### 스토리지 엔진
사용자가 요청한 SQL 문을 토대로 DB에 저장된 디스크나 메모리에서 필요한 데이터를 가져오는 역할

- 온라인상의 트랜잭션 -> OLTP 환경 -> InnoDB 엔진
- 대량의 쓰기 트랜잭션 -> MyISAM 엔진
- 메모리 데이터 로드(빠른 읽기) -> Memory 엔진

### MySQL 엔진
사용자가 요청한 SQL문을 넘겨받은 뒤 문법 검사와 적절한 오브젝트 활용 검사, SQL문을 최소 단위로 분리하여 원하는 데이터를 빠르게 찾는 경로를 모색

## 1.2 SQL 프로세스 용어
**파서** : MySQL이 이해할 수 있는 최소 단위로 구성 요소를 분리& 트리 생성(문법 검사 수행)

**전처리기** : 트리를 토대로 유효성 검증(권한 확인)

**옵티마이저** : 시간을 적게 소요하면서 비용 효율적인 경로로 데이터를 검색하는 방법 수립

  cf) 옵티마이저가 선택한 최적의 실행 계획이 최상의 실행 계획이 아닐 수 있음!!!

  
**엔진 실행기** : 수립된 실행 계획으로 스토리지 엔진 호출하여 데이터 가져옴

  MySQL의 부하를 줄이려면 스토리지 엔진에서 가져오는 데이터양을 줄이는 것이 중요

## 1.3 DB 오브젝트 용어
**테이블** : 데이터를 저장하는 오브젝트, 행+열

**행** : 동일한 구조의 데이터 항목 집합, 모든 행의 집합 = 테이블

**열** : 같은 유형의 데이터

### 기본키(PK)
**특정 행을 대표하는 열을 가리키는 용어**

- 각 테이블에서 1개 열만으로 생성 (상황에 따라 2개 이상의 열을 조합해 구성 가능)
- 클러스터형 인덱스로 작동 = 비슷한 PK 값들이 근거리에 적재되므로 기본 키를 활용한 인덱스 스캔 가능

### 외래키(FK)
**외부에 있는 테이블을 항상 참조하며, 외부 테이블의 데이터가 변경되면 함께 영향을 받는 관계를 설정하는 키**

(외부 테이블이 부모 테이블, 이를 참조하는 테이블이 자식 테이블)

### 인덱스
**키 값으로 실제 데이터 위치를 식별하고 데이터 접근 속도를 높이고자 생성되는 키 기준으로 정렬된 오브젝트**

- 고유 인덱스
  인덱스를 구성하는 열들의 데이터가 유일
  
  **기본 키와의 차이점** : NULL 허용 (기본키는 불가능)
  
- 비고유 인덱스
  유일한 속성만 제외한 키 = 중복 가능

### 뷰
**가상 테이블**

테이블의 데이터가 변경되면 뷰에서도 바로 변경된 데이터 조회 가능

반대로 뷰에서 데이터를 변경하면 테이블의 데이터도 즉시 변경됨
= 테이블인 것 처럼 활용 가능

뷰를 사용하는 이유
- 일부 데이터에 대해서만 공개(보안)
- 여러 테이블을 조인해서 활용시 성능을 고려한 최적화된 뷰 생성으로 일관된 성능 제공 가능



# 2. 논리적인 SQL 개념 용어
## 2.1 서브쿼리 위치에 따른 SQL 용어

서브쿼리 : 쿼리 안의 보조 쿼리

- SELECT 절 내부의 SELECT 문 : 스칼라 서브쿼리
- FROM 절 내부의 SELECT 문 : 인라인 뷰
- WHERE 절 내부의 SELECT 문 : 중첩 서브쿼리

### 스칼라 서브쿼리

출력 데이터 1건과 스칼라 서브쿼리의 결과 건수가 일치해야 함

### 인라인 뷰

FROM 절 내부에서 일시적으로 뷰를 생성하는 방식

인라인 뷰의 결과는 내부적으로 메모리/디스크에 임시 테이블을 생성하여 활용

### 중첩 서브쿼리

비교 연산자와 IN, EXIST, NOT IN, NOT EXISTS 문을 많이 사용


## 2.2 메인쿼리와의 관계성에 따른 SQL 용어

### 비상관 서브쿼리

메인쿼리와 서브쿼리 간의 관계성 없음

서브쿼리 -> 메인쿼리 실행

### 상관 서브쿼리
메인쿼리와 서브쿼리 간의 관계성 있음

서브쿼리가 수행되려면 메인쿼리의 값을 받아와야하므로 끈끈한 관계를 유지

메인쿼리 -> 서브쿼리 -> 메인쿼리 재실행 

## 2.3 반환 결과에 따른 SQL 용어
### 단일행 서브쿼리

1건의 행으로 반환되는 쿼리

=,<,>등의 연산자와 비교

항상 하나의 값만 반환

### 다중행 서브쿼리

여러 건의 행으로 반환되는 쿼리

IN 구문 사용

### 다중열 서브쿼리
여러 개의 열과 행으로 반환되는 쿼리

메인쿼리의 조건절에서는 IN 구문과 함께 서브쿼리에서 반환될 열들을 동일하게 나열

